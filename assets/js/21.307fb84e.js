(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{306:function(t,s,a){t.exports=a.p+"assets/img/harbor_ldap_auth_configuration.c095a145.png"},307:function(t,s,a){t.exports=a.p+"assets/img/harbor_standard_user_view.a731b397.png"},308:function(t,s,a){t.exports=a.p+"assets/img/harbor_admin_view.ad001b0d.png"},344:function(t,s,a){"use strict";a.r(s);var e=a(8),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"initial-harbor-tasks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initial-harbor-tasks"}},[t._v("#")]),t._v(" Initial Harbor tasks")]),t._v(" "),s("p",[t._v("YouTube video: "),s("a",{attrs:{href:"https://youtu.be/DcArQEFgk5s",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://youtu.be/DcArQEFgk5s"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Let's do some initial Harbor configuration on second Harbor instance:\n"),s("a",{attrs:{href:"https://harbor.mylabs.dev",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://harbor.mylabs.dev"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v('If you are using Let\'s Encrypt "staging" you need to download and use their\n"Fake LE Root X1" certificate for curl, helm and k8s cluster:')]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" tmp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" tmp\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" tmp\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${LETSENCRYPT_ENVIRONMENT}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"staging"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-pv")]),t._v(" /etc/docker/certs.d/harbor."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${MY_DOMAIN}")]),t._v("/\n  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CA_CERT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("kubectl get secrets ingress-cert-staging "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" cert-manager "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("jsonpath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{.data.ca\\.crt}"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CA_CERT}")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<nil>"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CA_CERT}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" base64 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ca.crt\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" ca.crt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-q")]),t._v(" https://letsencrypt.org/certs/fakelerootx1.pem "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" ca.crt\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" ca.crt /etc/docker/certs.d/harbor."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${MY_DOMAIN}")]),t._v("/ca.crt\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("SSL_CERT_FILE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PWD")]),t._v("/ca.crt\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("EXTERNAL_IP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("kubectl get nodes "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--output")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("jsonpath"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{.items[*].status.addresses[?(@.type=='),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ExternalIP"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(')].address}"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-q")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("StrictHostKeyChecking")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v(" ec2-user "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${EXTERNAL_IP}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sudo mkdir -p /etc/docker/certs.d/harbor.'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${MY_DOMAIN}")]),t._v("/ && sudo wget -q https://letsencrypt.org/certs/fakelerootx1.pem -O /etc/docker/certs.d/harbor."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${MY_DOMAIN}")]),t._v('/ca.crt"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*** Done"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])])]),s("p",[t._v("Output:")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code")])]),s("h2",{attrs:{id:"ldap-authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ldap-authentication"}},[t._v("#")]),t._v(" LDAP Authentication")]),t._v(" "),s("p",[t._v("List users which are in Active Directory:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("ldapsearch "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-LLL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-x")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-h")]),t._v(" winad01."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${MY_DOMAIN}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cn")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ansible,cn"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Users,dc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mylabs,dc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dev "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),t._v(" ansible_secret_password "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-b")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cn")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("users,dc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mylabs,dc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dev "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" sub "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"(cn=aduser*)"')]),t._v(" dn name description memberOf\n")])])]),s("p",[t._v("Output:")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("dn: CN=aduser01,CN=Users,DC=mylabs,DC=dev\ndescription: User 01 - Group 01\nmemberOf: CN=adgroup01,CN=Users,DC=mylabs,DC=dev\nname: aduser01\n\ndn: CN=aduser02,CN=Users,DC=mylabs,DC=dev\ndescription: User 02 - Group 01\nmemberOf: CN=adgroup01,CN=Users,DC=mylabs,DC=dev\nname: aduser02\n\ndn: CN=aduser03,CN=Users,DC=mylabs,DC=dev\ndescription: User 03 - Group 02\nmemberOf: CN=adgroup02,CN=Users,DC=mylabs,DC=dev\nname: aduser03\n\ndn: CN=aduser04,CN=Users,DC=mylabs,DC=dev\ndescription: User 04 - Group 02\nmemberOf: CN=adgroup02,CN=Users,DC=mylabs,DC=dev\nname: aduser04\n\ndn: CN=aduser05,CN=Users,DC=mylabs,DC=dev\ndescription: User 05 - Group 03\nmemberOf: CN=adgroup03,CN=Users,DC=mylabs,DC=dev\nname: aduser05\n\ndn: CN=aduser06,CN=Users,DC=mylabs,DC=dev\ndescription: User 06 - Group 03\nmemberOf: CN=adgroup03,CN=Users,DC=mylabs,DC=dev\nname: aduser06\n")])])]),s("p",[t._v("List groups which are in Active Directory:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("ldapsearch "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-LLL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-x")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-h")]),t._v(" winad01."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${MY_DOMAIN}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cn")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ansible,cn"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Users,dc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mylabs,dc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dev "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),t._v(" ansible_secret_password "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-b")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cn")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("users,dc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mylabs,dc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dev "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" sub "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"(cn=adgroup*)"')]),t._v(" dn name description member\n")])])]),s("p",[t._v("Output:")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("dn: CN=adgroup01,CN=Users,DC=mylabs,DC=dev\ndescription: AD User Group  01\nmember: CN=aduser02,CN=Users,DC=mylabs,DC=dev\nmember: CN=aduser01,CN=Users,DC=mylabs,DC=dev\nname: adgroup01\n\ndn: CN=adgroup02,CN=Users,DC=mylabs,DC=dev\ndescription: AD User Group  02\nmember: CN=aduser04,CN=Users,DC=mylabs,DC=dev\nmember: CN=aduser03,CN=Users,DC=mylabs,DC=dev\nname: adgroup02\n\ndn: CN=adgroup03,CN=Users,DC=mylabs,DC=dev\ndescription: AD User Group  03\nmember: CN=aduser06,CN=Users,DC=mylabs,DC=dev\nmember: CN=aduser05,CN=Users,DC=mylabs,DC=dev\nname: adgroup03\n")])])]),s("p",[t._v("Configure LDAP/Active Directory authentication in Harbor by going to\n"),s("code",[t._v("Administration")]),t._v(" -> "),s("code",[t._v("Configuration")]),t._v(" -> "),s("code",[t._v("Authentication")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Auth Mode: LDAP")])]),t._v(" "),s("li",[s("code",[t._v("LDAP URL: ldap://winad01.mylabs.dev")])]),t._v(" "),s("li",[s("code",[t._v("LDAP Search DN: cn=ansible,cn=Users,dc=mylabs,dc=dev")])]),t._v(" "),s("li",[s("code",[t._v("LDAP Search Password: ansible_secret_password")])]),t._v(" "),s("li",[s("code",[t._v("LDAP Base DN: cn=users,dc=mylabs,dc=dev")])]),t._v(" "),s("li",[s("code",[t._v("LDAP UID: sAMAccountName")])]),t._v(" "),s("li",[s("code",[t._v("LDAP Scope: OneLevel")])]),t._v(" "),s("li",[s("code",[t._v("LDAP Group Base DN: cn=users,dc=mylabs,dc=dev")])]),t._v(" "),s("li",[s("code",[t._v("LDAP Group GID: sAMAccountName")])]),t._v(" "),s("li",[s("code",[t._v("LDAP Group Admin DN: cn=adgroup03,cn=users,dc=mylabs,dc=dev")])]),t._v(" "),s("li",[s("code",[t._v("LDAP Group Scope: OneLevel")])])]),t._v(" "),s("p",[t._v("It's possible to use API call as well:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-u")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin:admin"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" PUT "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://harbor.'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${MY_DOMAIN}")]),t._v('/api/configurations"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-H")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type: application/json"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\n  '),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("auth_mode"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_auth"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_base_dn"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("cn=users,dc=mylabs,dc=dev"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_filter"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("(objectClass=organizationalPerson)"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_group_admin_dn"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("cn=adgroup03,cn=users,dc=mylabs,dc=dev"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_group_attribute_name"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("sAMAccountName"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_group_base_dn"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("cn=users,dc=mylabs,dc=dev"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_group_search_filter"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("(objectClass=group)"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_group_search_scope"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": 1,\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_scope"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": 1,\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_search_dn"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("cn=ansible,cn=Users,dc=mylabs,dc=dev"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_search_password"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ansible_secret_password"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_uid"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("sAMAccountName"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap_url"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ldap://winad01."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${MY_DOMAIN}")]),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("token_expiration"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(': 300\n}"')]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:a(306),alt:"Harbor Authentication Configuration page",title:"Harbor Authentication Configuration page"}})]),t._v(" "),s("p",[t._v("Open a new tab with Harbor login page\n("),s("a",{attrs:{href:"https://harbor.mylabs.dev",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://harbor.mylabs.dev"),s("OutboundLink")],1),t._v(") and login as:")]),t._v(" "),s("ul",[s("li",[t._v("User: "),s("code",[t._v("aduser01")])]),t._v(" "),s("li",[t._v("Password: "),s("code",[t._v("admin")])])]),t._v(" "),s("p",[t._v("You should see limited view on the right side containing only "),s("code",[t._v("Projects")]),t._v("\nand "),s("code",[t._v("Logs")]),t._v(":")]),t._v(" "),s("p",[s("img",{attrs:{src:a(307),alt:"Harbor - Standard user view",title:"Harbor - Standard user view"}})]),t._v(" "),s("p",[t._v("Open a new tab with Harbor login page\n("),s("a",{attrs:{href:"https://harbor.mylabs.dev",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://harbor.mylabs.dev"),s("OutboundLink")],1),t._v(") and login as:")]),t._v(" "),s("ul",[s("li",[t._v("User: "),s("code",[t._v("aduser06")]),t._v(" and "),s("code",[t._v("aduser05")])]),t._v(" "),s("li",[t._v("Password: "),s("code",[t._v("admin")])])]),t._v(" "),s("p",[t._v("This user belongs to group "),s("code",[t._v("adgroup03")]),t._v(" which is group containing Harbor\nAdministrators. You should be able to see much more details in Harbor now\nand also Users table has some details:")]),t._v(" "),s("p",[s("img",{attrs:{src:a(308),alt:"Harbor - Admin view",title:"Harbor - Admin view"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);